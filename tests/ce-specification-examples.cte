c0
{
    "tests" = [

        // ====================================================================

        {
            "name" = "Empty Document"
            "cte" = "\.%%%%
c0
null
            %%%%"
            "cbe"    = |u8x 83 00 7e|
            "events" = [
                            "bd" "v 0"
                                "n"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Top Level List"
            "cte" = "\.%%%%
c0
[
    1
    2
    3
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 01 02 03 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "i 1"
                                    "i 2"
                                    "i 3"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Boolean"
            "cte" = "\.%%%%
c0
[
    true
    false
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 7d 7c 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "tt"
                                    "ff"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Integer"
            "cte" = "\.%%%%
c0
[
    42
    -1000000000000000000000000000000000000000000000000000
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 2a 67 16 00 00 00 00 00 00 e8 15 e9 11 34 a8 3b 4e 01 b8 bf db 4e 3a ac 02 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "i 42"
                                    "bi -1000000000000000000000000000000000000000000000000000"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Decimal Floating Point"
            "cte" = "\.%%%%
c0
[
    -2.81
    4.195342e-10000
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 65 0b 99 02 65 da b8 02 8e 88 80 02 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "df -2.81"
                                    "df 4.195342e-10000"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Binary Floating Point"
            "cte" = "\.%%%%
c0
[
    0xa.3fb8p+42
    0x1.0p0
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 71 80 fb 23 56 70 80 3f 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "f 0xa.3fb8p+42"
                                    "f 0x1.0p0"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "UID"
            "cte" = "\.%%%%
c0
[
    123e4567-e89b-12d3-a456-426655440000
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 73 12 3e 45 67 e8 9b 12 d3 a4 56 42 66 55 44 00 00 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "uid 123e4567-e89b-12d3-a456-426655440000"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Date"
            "cte" = "\.%%%%
c0
[
    2019-08-05
    5081-03-30
    -300-12-21
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 99 05 4d 00 99 7e 24 30 99 95 ef 23 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "t 2019-8-5"
                                    "t 5081-03-30"
                                    "t -300-12-21"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Time"
            "cte" = "\.%%%%
c0
[
    23:59:59.999999999
    12:05:50.102
    04:00:00/Asia/Tokyo
    17:41:03/-13.54/-172.36
    09:00:00/Local
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 9a fe 4f d6 dc f7 fd fe 9a 32 43 2e d8
                            9a 01 00 f2 0e 53 2f 54 6f 6b 79 6f 9a 19 d2 f8
                            6d f5 ac bc 9a 01 80 f4 02 4c 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "t 23:59:59.999999999"
                                    "t 12:05:50.102"
                                    "t 04:00:00/Asia/Tokyo"
                                    "t 17:41:03/-13.54/-172.36"
                                    "t 09:00:00/Local"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Timestamp"
            "cte" = "\.%%%%
c0
[
    2019-01-23/14:08:51.941245
    1985-10-26/01:20:01.105/America/Los_Angeles
    5192-11-01/03:00:00/48.86/2.36
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 9b ec e5 f2 19 71 37 4c 00 9b 4b 23 a0
                            82 d6 0e 1a 4d 2f 4c 6f 73 5f 41 6e 67 65 6c 65
                            73 9b 01 80 11 16 9e 06 2d 26 ec 00 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "t 2019-01-23/14:08:51.941245"
                                    "t 1985-10-26/01:20:01.105/America/Los_Angeles"
                                    "t 5192-11-01/03:00:00/48.86/2.36"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Resource Identifier"
            "cte" = "\.%%%%
c0
[
    @"https://x.com/"
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 91 1c 68 74 74 70 73 3a 2f 2f 78 2e 63
                            6f 6d 2f 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "rid https://x.com/"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "e"]
            "to"     = ["t" "b" "e"]
        }

        // ====================================================================

        {
            "name" = "Typed Array"
            "cte" = "\.%%%%
c0
[
    |u8x 9f 47 cb 9a 3c|
    |f32 1.5 0x4.f391p100 30 9.31e-30|
    |i16 0b1001010 0o744 1000 0x7fff|
    |u 3a04f62f-cea5-4d2a-8598-bc156b99ea3b 1d4e205c-5ea3-46ea-92a3-98d9d3e6332f|
    |b 1 1 0 1 0|
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 95 0a 9f 47 cb 9a 3c 94 84 00 00 c0 3f
                            20 72 9e 72 00 00 f0 41 49 d4 3c 0f 94 24 4a 00
                            e4 01 e8 03 ff 7f 94 a2 3a 04 f6 2f ce a5 4d 2a
                            85 98 bc 15 6b 99 ea 3b 1d 4e 20 5c 5e a3 46 ea
                            92 a3 98 d9 d3 e6 33 2f 96 0a 0b 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "au8x 9f 47 cb 9a 3c"
                                    "af32 1.5 0x4.f391p100 30 9.31e-30"
                                    "ai16 0b1001010 0o744 1000 0x7fff"
                                    "au 3a04f62f-cea5-4d2a-8598-bc156b99ea3b 1d4e205c-5ea3-46ea-92a3-98d9d3e6332f"
                                    "ab 1 1 0 1 0"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "Media"
            "cte" = "\.%%%%
c0
[
    |application/x-sh 23 21 2f 62 69 6e 2f 73 68 0a 0a 65 63 68 6f 20 68 65 6c 6c 6f 20 77 6f 72 6c 64 0a|
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 94 e1 20 61 70 70 6c 69 63 61 74 69 6f
                            6e 2f 78 2d 73 68 38 23 21 2f 62 69 6e 2f 73 68
                            0a 0a 65 63 68 6f 20 68 65 6c 6c 6f 20 77 6f 72
                            6c 64 0a 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "mb" "ac 16 false" "as application/x-sh" "ac 28 false" "as \.@@
#!/bin/sh

echo hello world
@@"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "Custom Types"
            "cte" = "\.%%%%
c0
[
    |ct cplx(2.94+3i)|
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 93 1a 63 70 6c 78 28 32 2e 39 34 2b 33 69 29 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "ct cplx(2.94+3i)"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "List"
            "cte" = "\.%%%%
c0
[
    1
    "two"
    3.1
    {}
    null
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 01 83 74 77 6f 65 06 1f 79 7b 7e 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "i 1"
                                    "s two"
                                    "df 3.1"
                                    "m" "e"
                                    "n"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "Map"
            "cte" = "\.%%%%
c0
{
    1 = "alpha"
    2 = "beta"
    "a map" = {"one"=1 "two"=2}
    2000-01-01 = "New millenium"
}
            %%%%"
            "cbe"    = |u8x 83 00 79 01 85 61 6c 70 68 61 02 84 62 65 74 61
                            85 61 20 6d 61 70 79 83 6f 6e 65 01 83 74 77 6f
                            02 7b 99 21 00 00 8d 4e 65 77 20 6d 69 6c 6c 65
                            6e 69 75 6d 7b|
            "events" = [
                            "bd" "v 0"
                                "m"
                                    "i 1" "s alpha"
                                    "i 2" "s beta"
                                    "s a map" "m"
                                        "s one" "i 1"
                                        "s two" "i 2"
                                    "e"
                                    "t 2000-01-01" "s New millenium"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "Edge"
            "cte" = "\.%%%%
c0
[
    @(
        @"https://springfield.gov/people#homer_simpson"
        @"https://example.org/wife"
        @"https://springfield.gov/people#marge_simpson"
    )
    @(
        @"https://springfield.gov/people#homer_simpson"
        @"https://example.org/employer"
        @"https://springfield.gov/employers/nuclear_power_plant"
    )
]
            %%%%"
            "cbe"    = |u8x 83 00 7a 76 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 68 6f 6d 65 72 5f 73 69 6d 70 73 6f 6e 91 30 68 74 74 70 73 3a 2f 2f 65 78 61 6d 70 6c 65 2e 6f 72 67 2f 77 69 66 65 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 6d 61 72 67 65 5f 73 69 6d 70 73 6f 6e 76 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 68 6f 6d 65 72 5f 73 69 6d 70 73 6f 6e 91 38 68 74 74 70 73 3a 2f 2f 65 78 61 6d 70 6c 65 2e 6f 72 67 2f 65 6d 70 6c 6f 79 65 72 91 6a 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 65 6d 70 6c 6f 79 65 72 73 2f 6e 75 63 6c 65 61 72 5f 70 6f 77 65 72 5f 70 6c 61 6e 74 7b|
            "events" = [
                            "bd" "v 0"
                                "l"
                                    "edge"
                                        "rid https://springfield.gov/people#homer_simpson"
                                        "rid https://example.org/wife"
                                        "rid https://springfield.gov/people#marge_simpson"
                                    "edge"
                                        "rid https://springfield.gov/people#homer_simpson"
                                        "rid https://example.org/employer"
                                        "rid https://springfield.gov/employers/nuclear_power_plant"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

        {
            "name" = "Edge Complex"
            "cte" = "\.%%%%
c0
{
    @"https://springfield.gov/people#homer_simpson" = {
        @"https://mypredicates.org/wife" = @"https://springfield.gov/people#marge_simpson"
        @"https://mypredicates.org/regrets" = [
            $firing
            $forgotten_birthday
        ]
        @"https://mypredicates.org/troubles" = $troubles
    }

    "graph edges" = [
        &marge_birthday:@(
            @"https://springfield.gov/people#marge_simpson"
            @"https://mypredicates.org/birthday"
            1956-10-01
        )
        &forgotten_birthday:@(
            @"https://springfield.gov/people#homer_simpson"
            @"https://mypredicates.org/forgot"
            $marge_birthday
        )
        &firing:@(
            @"https://springfield.gov/people#montgomery_burns"
            @"https://mypredicates.org/fired"
            @"https://springfield.gov/people#homer_simpson"
        )

        &troubles:@(
            [
                $firing
                $forgotten_birthday
            ]
            @"https://mypredicates.org/contribute"
            @"https://myobjects.org/marital_strife"
        )
    ]
}
            %%%%"
            "cbe"    = |u8x 83 00 79 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 68 6f 6d 65 72 5f 73 69 6d 70 73 6f 6e 79 91 3a 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 77 69 66 65 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 6d 61 72 67 65 5f 73 69 6d 70 73 6f 6e 91 40 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 72 65 67 72 65 74 73 7a 98 06 66 69 72 69 6e 67 98 12 66 6f 72 67 6f 74 74 65 6e 5f 62 69 72 74 68 64 61 79 7b 91 42 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 74 72 6f 75 62 6c 65 73 98 08 74 72 6f 75 62 6c 65 73 7b 8b 67 72 61 70 68 20 65 64 67 65 73 7a 97 0e 6d 61 72 67 65 5f 62 69 72 74 68 64 61 79 76 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 6d 61 72 67 65 5f 73 69 6d 70 73 6f 6e 91 42 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 62 69 72 74 68 64 61 79 99 41 af 00 97 12 66 6f 72 67 6f 74 74 65 6e 5f 62 69 72 74 68 64 61 79 76 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 68 6f 6d 65 72 5f 73 69 6d 70 73 6f 6e 91 3e 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 66 6f 72 67 6f 74 98 0e 6d 61 72 67 65 5f 62 69 72 74 68 64 61 79 97 06 66 69 72 69 6e 67 76 91 5e 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 6d 6f 6e 74 67 6f 6d 65 72 79 5f 62 75 72 6e 73 91 3c 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 66 69 72 65 64 91 58 68 74 74 70 73 3a 2f 2f 73 70 72 69 6e 67 66 69 65 6c 64 2e 67 6f 76 2f 70 65 6f 70 6c 65 23 68 6f 6d 65 72 5f 73 69 6d 70 73 6f 6e 97 08 74 72 6f 75 62 6c 65 73 76 7a 98 06 66 69 72 69 6e 67 98 12 66 6f 72 67 6f 74 74 65 6e 5f 62 69 72 74 68 64 61 79 7b 91 46 68 74 74 70 73 3a 2f 2f 6d 79 70 72 65 64 69 63 61 74 65 73 2e 6f 72 67 2f 63 6f 6e 74 72 69 62 75 74 65 91 48 68 74 74 70 73 3a 2f 2f 6d 79 6f 62 6a 65 63 74 73 2e 6f 72 67 2f 6d 61 72 69 74 61 6c 5f 73 74 72 69 66 65 7b 7b|
            "events" = [
                            "bd" "v 0"
                                "m"
                                    "rid https://springfield.gov/people#homer_simpson" "m"
                                        "rid https://mypredicates.org/wife" "rid https://springfield.gov/people#marge_simpson"
                                        "rid https://mypredicates.org/regrets" "l"
                                            "ref firing"
                                            "ref forgotten_birthday"
                                        "e"
                                        "rid https://mypredicates.org/troubles" "ref troubles"
                                    "e"
                                    "s graph edges" "l"
                                        "mark marge_birthday" "edge"
                                            "rid https://springfield.gov/people#marge_simpson"
                                            "rid https://mypredicates.org/birthday"
                                            "t 1956-10-01"
                                        "mark forgotten_birthday" "edge"
                                            "rid https://springfield.gov/people#homer_simpson"
                                            "rid https://mypredicates.org/forgot"
                                            "ref marge_birthday"
                                        "mark firing" "edge"
                                            "rid https://springfield.gov/people#montgomery_burns"
                                            "rid https://mypredicates.org/fired"
                                            "rid https://springfield.gov/people#homer_simpson"

                                        "mark troubles" "edge"
                                            "l"
                                                "ref firing"
                                                "ref forgotten_birthday"
                                            "e"
                                            "rid https://mypredicates.org/contribute"
                                            "rid https://myobjects.org/marital_strife"
                                    "e"
                                "e"
                            "ed"
                        ]
            "from"   = ["t" "b" "e"]
            "to"     = ["b" "e"]
        }

        // ====================================================================

    ]
}
