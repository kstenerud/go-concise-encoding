c0
{
    "type" = {
        "identifier" = "ce-test"
        "version" = 1
    }
    "ceversion" = 0
    "tests" = [

        // ====================================================================

        {
            "name" = "List"
            "mustSucceed" = [
                {"cte"="[]"  "events"=["l" "e"]}
                {"cte"="[1]"  "events"=["l" "n=1" "e"] "lossyCTE"=true}
                {
                    "events" = ["l" "null" "b=false" "n=-1" "n=1.5e20" "n=nan" "n=snan" "n=inf" "n=-inf"
                                "s=string" "rid=https://concise-encoding.org" "l" "e" "m" "e" "e"]
                    "cte"="\.^
[
    null
    false
    -1
    1.5e+20
    nan
    snan
    inf
    -inf
    "string"
    @"https://concise-encoding.org"
    []
    {}
]^"
                }
            ]
            "mustFail" = [
                {"cte"="["}  // Missing terminator
                {"cte"="[}"} // Wrong terminator
                {"cte"="[)"} // Wrong terminator
            ]
        }

        // ====================================================================

        {
            "name" = "Map"
            "mustSucceed" = [
                {"cte"="{}"  "events"=["m" "e"]}
                {"cte"="{\"a\"=1}"  "events"=["m" "s=a" "n=1" "e"] "lossyCTE"=true}
                {
                    "events" = ["m"
                                    "s=string"              "null"
                                    "n=10"                  "b=false"
                                    "rid=https://x.org"     "n=-1"
                                    "n=1.6444453466e1000"   "n=1.5e20"
                                    "b=true"                "n=nan"
                                    "t=2050-12-31"          "n=snan"
                                    "t=2123-01-01/12:04:54" "n=inf"
                                    "n=1"                   "n=-inf"
                                    "n=2"                   "s=string"
                                    "n=3"                   "rid=https://concise-encoding.org"
                                    "n=4"                   "l" "e"
                                    "n=5"                   "m" "e"
                                    "uid=cbf49eb8-c24d-4a4a-bebc-cd2a1ae4d884"  "l" "e"
                                "e"]
                    "cte"="\.^
{
    "string" = null
    10 = false
    @"https://x.org" = -1
    1.6444453466e+1000 = 1.5e+20
    true = nan
    2050-12-31 = snan
    2123-01-01/12:04:54 = inf
    1 = -inf
    2 = "string"
    3 = @"https://concise-encoding.org"
    4 = []
    5 = {}
    cbf49eb8-c24d-4a4a-bebc-cd2a1ae4d884 = []
}^"
                }
            ]
            "mustFail" = [
                {"cte"="{"}            // Missing terminator
                {"cte"="{]"}           // Wrong terminator
                {"cte"="{)"}           // Wrong terminator
                {"cte"="{1}"}          // Missing value
                {"cte"="{1=}"}         // Missing value
                {"cte"="{1:2}"}        // Bad separator
                {"cte"="{null=1}"}     // Invalid key type
                {"cte"="{nan=1}"}      // Invalid key type
                {"cte"="{snan=1}"}     // Invalid key type
                {"cte"="{[]=1}"}       // Invalid key type
                {"cte"="{{}=1}"}       // Invalid key type
                {"cte"="{(1)=1}"}      // Invalid key type
                {"cte"="{@(1 2 3)=1}"} // Invalid key type
                {"cte"="{|ct a|=1}"}   // Invalid key type
                {"cte"="{|cb 00|=1}"}  // Invalid key type
                {"cte"="{|b|=1}"}      // Invalid key type
                {"cte"="{|i8|=1}"}     // Invalid key type
                {"cte"="{|i16|=1}"}    // Invalid key type
                {"cte"="{|i32|=1}"}    // Invalid key type
                {"cte"="{|i64|=1}"}    // Invalid key type
                {"cte"="{|u8|=1}"}     // Invalid key type
                {"cte"="{|u16|=1}"}    // Invalid key type
                {"cte"="{|u32|=1}"}    // Invalid key type
                {"cte"="{|u64|=1}"}    // Invalid key type
                {"cte"="{|f16|=1}"}    // Invalid key type
                {"cte"="{|f32|=1}"}    // Invalid key type
                {"cte"="{|f64|=1}"}    // Invalid key type
                {"cte"="{|u|=1}"}      // Invalid key type
            ]
        }

        // ====================================================================

        {
            "name" = "Struct"
            "mustSucceed" = [
                {
                    "events"=["st=a" "e" "si=a" "e"]
                    "cte"="\.^
@a<>
@a()^"
                }
                {
                    "events"=["st=a" "n=1" "e" "si=a" "s=x" "e"]
                    "cte"="\.^
@a<
    1
>
@a(
    "x"
)^"
                }
            ]
            "mustFail" = [
                {"cte"="@"}         // Incomplete
                {"cte"="@x"}        // Incomplete
                {"cte"="@x<"}       // Incomplete
                {"cte"="@x<> @"}    // Incomplete
                {"cte"="@x<> @x"}   // Incomplete
                {"cte"="@x<> @x("}  // Incomplete
                {"cte"="@x<)"}      // Wrong terminator
                {"cte"="@x<}"}      // Wrong terminator
                {"cte"="@x<]"}      // Wrong terminator
                {"cte"="@x<> @x(>"} // Wrong terminator
                {"cte"="@x<> @x(}"} // Wrong terminator
                {"cte"="@x<> @x(]"} // Wrong terminator
                {"cte"="@x<1> @x()"} // Contents mismatch
                {"cte"="@x<> @x(1)"} // Contents mismatch
            ]
        }

        // ====================================================================

        {
            "name" = "Node"
            "mustSucceed" = [
                {"cte"="(1\n)" "events"=["node" "n=1" "e"]}
                {"cte"="(1)"  "events"=["node" "n=1" "e"] "lossyCTE"=true}
                {
                    "events" = ["node" "null"
                                    "b=false"
                                    "n=-1"
                                    "node" "n=1.5e20"
                                        "n=nan"
                                        "n=snan"
                                    "e"
                                    "node" "n=inf"
                                        "n=-inf"
                                        "s=string"
                                        "rid=https://concise-encoding.org"
                                    "e"
                                    "node" "l" "e"
                                        "m" "e"
                                    "e"
                                "e"]
                    "cte"="\.^
(null
    false
    -1
    (1.5e+20
        nan
        snan
    )
    (inf
        -inf
        "string"
        @"https://concise-encoding.org"
    )
    ([]
        {}
    )
)^"
                }
            ]
            "mustFail" = [
                {"cte"="("}   // Missing value
                {"cte"="(1"}  // Missing terminator
                {"cte"="(1}"} // Wrong terminator
                {"cte"="(1]"} // Wrong terminator
            ]
        }

        // ====================================================================

        {
            "name" = "Edge"
            "mustSucceed" = [
                {
                    "events"=["edge" "n=1" "n=2" "n=3" "e"]
                    "cte"="\.^
@(
    1
    2
    3
)^"}
                {
                    "events"=["edge" "n=nan" "s=x" "t=2001-08-14" "e"]
                    "cte"="\.^
@(
    nan
    "x"
    2001-08-14
)^"}
                {
                    "events"=["edge" "n=1" "n=2" "n=3" "e"]
                    "cte"="\.^
@(
    1
    2
    3
)^" }
                {
                    "events"=["edge" "n=nan" "s=x" "t=2001-08-14" "e"]
                    "cte"="\.^
@(
    nan
    "x"
    2001-08-14
)^"}
                {
                    "events"=["edge" "rid=https://x.y" "n=1.5" "l" "n=1" "e" "e"]
                    "cte"="\.^
@(
    @"https://x.y"
    1.5
    [
        1
    ]
)^"}
            ]
            "mustFail" = [
                {"cte"="@("}       // Missing value
                {"cte"="@(1"}      // Missing value
                {"cte"="@(1 2"}    // Missing value
                {"cte"="@(1 2 3"}  // Missing terminator
                {"cte"="@(1 2 3}"} // Wrong terminator
                {"cte"="@(1 2 3]"} // Wrong terminator
            ]
        }

        // ====================================================================

    ]
}
